<nav aria-label="Primary navigation" class="side-nav">
  <ul class="side-nav__list" role="list">
    <li *ngFor="let item of navItems" class="side-nav__item">
      <ng-container *ngIf="item.children; else singleLink">
        <button
          type="button"
          class="side-nav__toggle"
          (click)="toggle(item)"
          [attr.aria-expanded]="item.expanded"
          [attr.aria-controls]="idFor(item.label)"
        >
          <span class="side-nav__toggle-inner">
            <span class="side-nav__caret" aria-hidden="true">
              <svg viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg"
                   [attr.data-open]="item.expanded">
                <path d="M1 1.25L5 4.75L9 1.25" stroke="currentColor" stroke-width="1.5"
                      stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </span>
            <span class="side-nav__label">{{ item.label }}</span>
          </span>
        </button>
        <ul *ngIf="item.expanded" [id]="idFor(item.label)" class="side-nav__group" role="list">
          <li *ngFor="let child of item.children">
            <a
              [routerLink]="child.route"
              class="side-nav__link side-nav__link--child"
              routerLinkActive="side-nav__link--active"
            >
              {{ child.label }}
            </a>
          </li>
        </ul>
      </ng-container>

      <ng-template #singleLink>
        <a
          [routerLink]="item.route"
          [routerLinkActiveOptions]="{ exact: true }"
          class="side-nav__link side-nav__link--single"
          routerLinkActive="side-nav__link--active"
        >
          <span>{{ item.label }}</span>
          <span *ngIf="item.label === 'User Details'" class="side-nav__pill">JMCADAMS</span>
        </a>
      </ng-template>
    </li>
  </ul>
</nav>
