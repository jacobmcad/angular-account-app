<!-- Skip link -->
<a class="sr-only focus:not-sr-only focus:absolute top-2 left-2 z-50 bg-white p-2 rounded shadow"
   href="#main">Skip to main content</a>

<!-- Header -->
<header>
  <div class="bg-[#7a0019] text-white">
    <div class="mx-auto flex max-w-7xl items-center justify-between gap-6 px-4 py-4">
      <div class="flex items-center gap-4">
        <img
          src="https://my-account.umn.edu/resources/images/umn-header-logo.png"
          alt="University of Minnesota ‚Äî Driven to Discover"
          class="h-12 w-auto"
        />
      </div>

      <div class="flex flex-1 items-center justify-end gap-6 text-xs uppercase tracking-[0.18em]">
        <a
          href="https://www.myu.umn.edu/"
          class="flex items-center gap-2 text-white transition-colors hover:text-[#ffcc33] focus:text-[#ffcc33]"
        >
          <span>MYU</span>
          <span aria-hidden="true">üîí</span>
          <span class="hidden sm:inline tracking-[0.12em]">FOR STUDENT, FACULTY, AND STAFF</span>
          <span class="sr-only">MyU portal, secured experience</span>
        </a>

        <form class="relative hidden sm:block" role="search" aria-label="Search UMN">
          <label class="sr-only" for="umn-search">Search University of Minnesota</label>
          <input
            id="umn-search"
            name="search"
            type="search"
            placeholder="Search UMN..."
            class="h-9 w-56 rounded border border-[#b87486] bg-[#9c1c32] px-3 pr-9 text-sm text-white placeholder:text-white/75 focus:border-[#ffcc33] focus:outline-none focus:ring-2 focus:ring-[#ffcc33]"
          />
          <button
            type="submit"
            class="absolute inset-y-0 right-2 grid place-items-center text-white/80 hover:text-[#ffcc33] focus:text-[#ffcc33]"
            aria-label="Submit search"
          >
            <span aria-hidden="true">üîç</span>
          </button>
        </form>
      </div>
    </div>
  </div>

  <div class="border-y border-[#dba01a] bg-[#ffcc33] text-[#2f2f2f]">
    <div class="mx-auto flex max-w-7xl items-center justify-between px-4 py-3 text-xs font-semibold uppercase tracking-[0.26em]">
      <span>My Account</span>
      <div class="flex items-center gap-4 tracking-[0.18em] text-[#7a0019]">
        <span class="flex items-center gap-2 text-[#2f2f2f]">
          <span aria-hidden="true">üë§</span>
          JMCADAMS
        </span>
        <span aria-hidden="true">‚Ä¢</span>
        <button type="button" class="inline-flex items-center gap-2 text-[#7a0019] underline decoration-[#7a0019]/70 underline-offset-4 hover:text-[#4c0e17] focus:text-[#4c0e17]">
          <svg aria-hidden="true" class="h-3 w-3" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 8h7" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8 3l5 5-5 5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Logout
        </button>
      </div>
    </div>
  </div>
</header>

<!-- Main layout -->
<div class="bg-[#eef1f5] py-8">
  <div class="mx-auto grid max-w-7xl grid-cols-1 gap-6 px-4 lg:grid-cols-[17rem_1fr] xl:grid-cols-[17rem_1fr_19rem]">
    <div class="rounded border border-[#d6d9dc] bg-white shadow">
      <app-side-nav></app-side-nav>
    </div>

    <main id="main" class="min-h-[60vh] rounded border border-[#d6d9dc] bg-white px-8 py-6 shadow">
      <router-outlet></router-outlet>
    </main>

    <div class="hidden xl:block">
      <ng-container *ngIf="activeRailTemplate(); else defaultRail" [ngTemplateOutlet]="activeRailTemplate()"></ng-container>
      <ng-template #defaultRail>
        <aside class="sticky top-6 rounded border border-[#d6d9dc] bg-white shadow" aria-labelledby="refresh-user-heading">
          <button
            type="button"
            class="flex w-full items-center gap-3 bg-[#5c6670] px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.22em] text-white"
            [attr.aria-expanded]="refreshPanelOpen() ? 'true' : 'false'"
            aria-controls="refresh-panel"
            (click)="toggleRefreshPanel()"
          >
            <span class="inline-flex h-5 w-5 items-center justify-center rounded bg-white/10" aria-hidden="true">
              <svg
                class="h-3 w-3 transition-transform duration-200"
                [ngClass]="{ '-rotate-180': !refreshPanelOpen() }"
                viewBox="0 0 10 6"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M1 1.25L5 4.75L9 1.25"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </span>
            Refresh User
          </button>

          <div *ngIf="refreshPanelOpen()" id="refresh-panel" class="space-y-4 px-4 py-5">
            <p class="text-sm text-gray-700">
              Re-fetch the latest account information from Identity systems.
            </p>
            <button
              type="button"
              class="w-full rounded border border-[#cfd4da] bg-[#f0f2f5] px-4 py-2 text-sm font-semibold uppercase tracking-[0.12em] text-[#3f4854] hover:bg-[#e3e6eb] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#7a0019] focus-visible:ring-offset-2"
            >
              Refresh User
            </button>
          </div>
        </aside>
      </ng-template>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="border-t border-[#d6d9dc] bg-white py-6">
  <div class="mx-auto max-w-7xl space-y-3 px-4 text-center text-sm text-gray-600">
    <div class="flex flex-col items-center justify-center gap-3 sm:flex-row">
      <span class="font-medium text-gray-700">Need Help?</span>
      <button type="button" class="inline-flex items-center gap-2 rounded-full border border-[#d6d9dc] px-4 py-1.5 text-sm font-medium text-gray-700 hover:bg-[#f5f6f7] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#7a0019] focus-visible:ring-offset-2">
        <span aria-hidden="true">üëÅ</span>
        Show help options
      </button>
    </div>
    <p class="text-xs text-gray-500">
      Regents of the University of Minnesota. All rights reserved. The University of Minnesota is an equal opportunity educator and employer.
      <a class="ml-1 underline" href="#">Online Privacy Statement</a>
    </p>
  </div>
</footer>
